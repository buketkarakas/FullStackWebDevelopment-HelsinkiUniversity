{"ast":null,"code":"var _jsxFileName = \"D:\\\\Buket\\\\WorkHub\\\\FullStackWebDevelopment-HelsinkiUniversity\\\\Part2\\\\phonebook\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport personService from './services/persons';\nimport Notification from './components/Notification';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filterName, setFilterName] = useState('');\n  const [notificationMessage, setNotificationMessage] = useState(null);\n  useEffect(() => {\n    personService.getAll().then(personsList => {\n      setPersons(personsList);\n    });\n  }, []);\n  const personsToShow = filterName === '' ? persons : persons.filter(person => person.name.toUpperCase().includes(filterName.toUpperCase()));\n\n  const addName = event => {\n    event.preventDefault();\n    const personToBeSearched = persons.find(person => person.name === newName);\n\n    if (personToBeSearched === undefined) {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      };\n      personService.create(newPerson).then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson));\n        setNotificationMessage(`${returnedPerson.name} is added`);\n      }).catch(error => {\n        alert(\"Something went wrong :(\");\n      });\n    } else {\n      const result = window.confirm(`${personToBeSearched.name} is already added to phonebook, replace the old number with a new one?`);\n\n      if (result) {\n        const updatedPerson = { ...personToBeSearched,\n          number: newNumber\n        };\n        personService.update(updatedPerson).then(returnedPerson => {\n          setPersons(persons.map(person => person.id !== returnedPerson.id ? person : returnedPerson));\n        }).catch(error => {\n          alert(\"Something went wrong :( \");\n        });\n      }\n    }\n\n    setNewName('');\n    setNewNumber('');\n  };\n\n  const deletePerson = personId => {\n    personService.deletePerson(personId).then(returnedPerson => {\n      const result = window.confirm(`Delete ${persons.find(person => person.id === personId).name}?`);\n      if (result) setPersons(persons.filter(person => person.id !== personId));\n    }).catch(error => {\n      alert(\"Something went wrong :(\");\n    });\n  };\n\n  const handleNameChange = event => setNewName(event.target.value);\n\n  const handleNumberChange = event => setNewNumber(event.target.value);\n\n  const handleFilterChange = event => setFilterName(event.target.value);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Phonebook\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Notification, {\n      message: notificationMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Filter, {\n      handleFilterChange: handleFilterChange,\n      filterName: filterName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"add a new\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PersonForm, {\n      handleNameChange: handleNameChange,\n      handleNumberChange: handleNumberChange,\n      newNumber: newNumber,\n      newName: newName,\n      addName: addName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Numbers\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Persons, {\n      personsToShow: personsToShow,\n      deletePerson: deletePerson\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"m9Q7FSAE55yCqgYefdj6/GcbJa0=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["D:/Buket/WorkHub/FullStackWebDevelopment-HelsinkiUniversity/Part2/phonebook/src/App.js"],"names":["axios","React","useState","useEffect","Filter","PersonForm","Persons","personService","Notification","App","persons","setPersons","newName","setNewName","newNumber","setNewNumber","filterName","setFilterName","notificationMessage","setNotificationMessage","getAll","then","personsList","personsToShow","filter","person","name","toUpperCase","includes","addName","event","preventDefault","personToBeSearched","find","undefined","newPerson","number","create","returnedPerson","concat","catch","error","alert","result","window","confirm","updatedPerson","update","map","id","deletePerson","personId","handleNameChange","target","value","handleNumberChange","handleFilterChange"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [filterName, setFilterName ] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n\n  useEffect(() => {\n    personService.getAll()\n    .then((personsList)=>{\n      setPersons(personsList)\n    }) \n  }, [])\n\n\n  const personsToShow = filterName === '' \n  ? persons\n  : persons.filter(person => person.name.toUpperCase().includes(filterName.toUpperCase()))\n\n  const addName = (event) =>{\n    event.preventDefault()\n    const personToBeSearched = persons.find((person)=>person.name === newName)\n    if(personToBeSearched === undefined ){\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      }\n\n      personService.create(newPerson)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNotificationMessage(`${returnedPerson.name} is added`)\n      })\n      .catch( error => {\n        alert(\"Something went wrong :(\")\n        }\n      )\n    }\n    else{\n      const result = window.confirm(`${personToBeSearched.name} is already added to phonebook, replace the old number with a new one?`)\n      if (result){\n        const updatedPerson = {...personToBeSearched, number: newNumber}\n        personService.update(updatedPerson)\n        .then(returnedPerson => {\n          setPersons(persons.map(person => person.id !== returnedPerson.id ? person : returnedPerson))\n        })\n        .catch(error => {\n          alert(\"Something went wrong :( \")\n        })\n      }\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const deletePerson = personId => {\n    personService.deletePerson(personId)\n    .then(returnedPerson => {\n      const result = window.confirm(`Delete ${persons.find(person => person.id === personId).name}?`)\n      if (result)\n        setPersons(persons.filter(person => person.id !== personId))\n    })\n    .catch(error => {\n      alert(\"Something went wrong :(\")\n    })\n  }\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n\n  const handleFilterChange = (event) => setFilterName(event.target.value)\n  \n  \n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={notificationMessage}/>\n\n      <Filter handleFilterChange={handleFilterChange} filterName={filterName} />\n\n      <h3>add a new</h3>\n\n      <PersonForm handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} newNumber={newNumber} newName={newName} addName={addName} />\n      \n      <h3>Numbers</h3>\n\n      <Persons personsToShow={personsToShow} deletePerson={deletePerson} />\n    </div>\n  )\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}