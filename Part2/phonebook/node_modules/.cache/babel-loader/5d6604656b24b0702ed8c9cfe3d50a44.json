{"ast":null,"code":"var _jsxFileName = \"D:\\\\Buket\\\\WorkHub\\\\FullStackWebDevelopment-HelsinkiUniversity\\\\Part2\\\\phonebook\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport personService from './services/persons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filterName, setFilterName] = useState('');\n  useEffect(() => {\n    personService.getAll().then(personsList => {\n      setPersons(personsList);\n    });\n  }, []);\n  const personsToShow = filterName === '' ? persons : persons.filter(person => person.name.toUpperCase().includes(filterName.toUpperCase()));\n\n  const addName = event => {\n    event.preventDefault();\n\n    if (persons.find(person => person.name === newName) === undefined) {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      };\n      axios.post('http://localhost:3001/persons', newPerson).then(response => {\n        setPersons(persons.concat(response.data));\n      });\n    } else {\n      const message = `${newName} is already added to phonebook`;\n      window.alert(message);\n    }\n\n    setNewName('');\n    setNewNumber('');\n  };\n\n  const handleNameChange = event => setNewName(event.target.value);\n\n  const handleNumberChange = event => setNewNumber(event.target.value);\n\n  const handleFilterChange = event => setFilterName(event.target.value);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Phonebook\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Filter, {\n      handleFilterChange: handleFilterChange,\n      filterName: filterName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"add a new\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PersonForm, {\n      handleNameChange: handleNameChange,\n      handleNumberChange: handleNumberChange,\n      newNumber: newNumber,\n      newName: newName,\n      addName: addName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Numbers\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Persons, {\n      personsToShow: personsToShow\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"rhPZPjqAVmmuexFWxmelKGk5dWI=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["D:/Buket/WorkHub/FullStackWebDevelopment-HelsinkiUniversity/Part2/phonebook/src/App.js"],"names":["axios","React","useState","useEffect","Filter","PersonForm","Persons","personService","App","persons","setPersons","newName","setNewName","newNumber","setNewNumber","filterName","setFilterName","getAll","then","personsList","personsToShow","filter","person","name","toUpperCase","includes","addName","event","preventDefault","find","undefined","newPerson","number","post","response","concat","data","message","window","alert","handleNameChange","target","value","handleNumberChange","handleFilterChange"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [filterName, setFilterName ] = useState('')\n\n  useEffect(() => {\n    personService.getAll()\n    .then((personsList)=>{\n      setPersons(personsList)\n    })\n    \n  }, [])\n\n\n  const personsToShow = filterName === '' \n  ? persons\n  : persons.filter(person => person.name.toUpperCase().includes(filterName.toUpperCase()))\n\n  const addName = (event) =>{\n    event.preventDefault()\n    if(persons.find((person)=>person.name === newName) === undefined ){\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      }\n\n      axios\n      .post('http://localhost:3001/persons', newPerson)\n      .then(response => {\n        setPersons(persons.concat(response.data))\n      })\n    }\n    else{\n      const message =`${newName} is already added to phonebook`\n      window.alert(message)\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n\n  const handleFilterChange = (event) => setFilterName(event.target.value)\n  \n  \n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Filter handleFilterChange={handleFilterChange} filterName={filterName} />\n\n      <h3>add a new</h3>\n\n      <PersonForm handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} newNumber={newNumber} newName={newName} addName={addName} />\n      \n      <h3>Numbers</h3>\n\n      <Persons personsToShow={personsToShow} />\n    </div>\n  )\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}