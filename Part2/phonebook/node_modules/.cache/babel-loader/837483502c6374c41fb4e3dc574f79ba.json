{"ast":null,"code":"var _jsxFileName = \"D:\\\\Buket\\\\WorkHub\\\\FullStackWebDevelopment-HelsinkiUniversity\\\\Part2\\\\phonebook\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport personService from './services/persons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filterName, setFilterName] = useState('');\n  useEffect(() => {\n    personService.getAll().then(personsList => {\n      setPersons(personsList);\n    });\n  }, []);\n  const personsToShow = filterName === '' ? persons : persons.filter(person => person.name.toUpperCase().includes(filterName.toUpperCase()));\n\n  const addName = event => {\n    event.preventDefault();\n    const personToBeSearched = persons.find(person => person.name === newName);\n\n    if (personToBeSearched === undefined) {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      };\n      personService.create(newPerson).then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson));\n      });\n    } else {\n      const updatedPerson = { ...personToBeSearched,\n        number: newNumber\n      };\n      const message = `${newName} is already added to phonebook`;\n      window.alert(message);\n    }\n\n    setNewName('');\n    setNewNumber('');\n  };\n\n  const deletePerson = personId => {\n    personService.deletePerson(personId).then(returnedPerson => {\n      const result = window.confirm(`Delete ${persons.find(person => person.id === personId).name}?`);\n      if (result) setPersons(persons.filter(person => person.id !== personId));\n    });\n  };\n\n  const handleNameChange = event => setNewName(event.target.value);\n\n  const handleNumberChange = event => setNewNumber(event.target.value);\n\n  const handleFilterChange = event => setFilterName(event.target.value);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Phonebook\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Filter, {\n      handleFilterChange: handleFilterChange,\n      filterName: filterName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"add a new\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PersonForm, {\n      handleNameChange: handleNameChange,\n      handleNumberChange: handleNumberChange,\n      newNumber: newNumber,\n      newName: newName,\n      addName: addName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Numbers\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Persons, {\n      personsToShow: personsToShow,\n      deletePerson: deletePerson\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"rhPZPjqAVmmuexFWxmelKGk5dWI=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["D:/Buket/WorkHub/FullStackWebDevelopment-HelsinkiUniversity/Part2/phonebook/src/App.js"],"names":["axios","React","useState","useEffect","Filter","PersonForm","Persons","personService","App","persons","setPersons","newName","setNewName","newNumber","setNewNumber","filterName","setFilterName","getAll","then","personsList","personsToShow","filter","person","name","toUpperCase","includes","addName","event","preventDefault","personToBeSearched","find","undefined","newPerson","number","create","returnedPerson","concat","updatedPerson","message","window","alert","deletePerson","personId","result","confirm","id","handleNameChange","target","value","handleNumberChange","handleFilterChange"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,aAAP,MAA0B,oBAA1B;;;AAGA,MAAMC,GAAG,GAAG,MAAM;AAAA;;AAChB,QAAM,CAAEC,OAAF,EAAWC,UAAX,IAA0BR,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAAES,OAAF,EAAWC,UAAX,IAA0BV,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAAEW,SAAF,EAAaC,YAAb,IAA8BZ,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACa,UAAD,EAAaC,aAAb,IAA+Bd,QAAQ,CAAC,EAAD,CAA7C;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACdI,IAAAA,aAAa,CAACU,MAAd,GACCC,IADD,CACOC,WAAD,IAAe;AACnBT,MAAAA,UAAU,CAACS,WAAD,CAAV;AACD,KAHD;AAID,GALQ,EAKN,EALM,CAAT;AAQA,QAAMC,aAAa,GAAGL,UAAU,KAAK,EAAf,GACpBN,OADoB,GAEpBA,OAAO,CAACY,MAAR,CAAeC,MAAM,IAAIA,MAAM,CAACC,IAAP,CAAYC,WAAZ,GAA0BC,QAA1B,CAAmCV,UAAU,CAACS,WAAX,EAAnC,CAAzB,CAFF;;AAIA,QAAME,OAAO,GAAIC,KAAD,IAAU;AACxBA,IAAAA,KAAK,CAACC,cAAN;AACA,UAAMC,kBAAkB,GAAGpB,OAAO,CAACqB,IAAR,CAAcR,MAAD,IAAUA,MAAM,CAACC,IAAP,KAAgBZ,OAAvC,CAA3B;;AACA,QAAGkB,kBAAkB,KAAKE,SAA1B,EAAqC;AACnC,YAAMC,SAAS,GAAG;AAChBT,QAAAA,IAAI,EAAEZ,OADU;AAEhBsB,QAAAA,MAAM,EAAEpB;AAFQ,OAAlB;AAKAN,MAAAA,aAAa,CAAC2B,MAAd,CAAqBF,SAArB,EACCd,IADD,CACMiB,cAAc,IAAI;AACtBzB,QAAAA,UAAU,CAACD,OAAO,CAAC2B,MAAR,CAAeD,cAAf,CAAD,CAAV;AACD,OAHD;AAID,KAVD,MAWI;AACF,YAAME,aAAa,GAAG,EAAC,GAAGR,kBAAJ;AAAwBI,QAAAA,MAAM,EAAEpB;AAAhC,OAAtB;AACA,YAAMyB,OAAO,GAAG,GAAE3B,OAAQ,gCAA1B;AACA4B,MAAAA,MAAM,CAACC,KAAP,CAAaF,OAAb;AACD;;AACD1B,IAAAA,UAAU,CAAC,EAAD,CAAV;AACAE,IAAAA,YAAY,CAAC,EAAD,CAAZ;AACD,GArBD;;AAuBA,QAAM2B,YAAY,GAAGC,QAAQ,IAAI;AAC/BnC,IAAAA,aAAa,CAACkC,YAAd,CAA2BC,QAA3B,EACCxB,IADD,CACMiB,cAAc,IAAI;AACtB,YAAMQ,MAAM,GAAGJ,MAAM,CAACK,OAAP,CAAgB,UAASnC,OAAO,CAACqB,IAAR,CAAaR,MAAM,IAAIA,MAAM,CAACuB,EAAP,KAAcH,QAArC,EAA+CnB,IAAK,GAA7E,CAAf;AACA,UAAIoB,MAAJ,EACEjC,UAAU,CAACD,OAAO,CAACY,MAAR,CAAeC,MAAM,IAAIA,MAAM,CAACuB,EAAP,KAAcH,QAAvC,CAAD,CAAV;AACH,KALD;AAMD,GAPD;;AASA,QAAMI,gBAAgB,GAAInB,KAAD,IAAWf,UAAU,CAACe,KAAK,CAACoB,MAAN,CAAaC,KAAd,CAA9C;;AAEA,QAAMC,kBAAkB,GAAItB,KAAD,IAAWb,YAAY,CAACa,KAAK,CAACoB,MAAN,CAAaC,KAAd,CAAlD;;AAEA,QAAME,kBAAkB,GAAIvB,KAAD,IAAWX,aAAa,CAACW,KAAK,CAACoB,MAAN,CAAaC,KAAd,CAAnD;;AAIA,sBACE;AAAA,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAGE,QAAC,MAAD;AAAQ,MAAA,kBAAkB,EAAEE,kBAA5B;AAAgD,MAAA,UAAU,EAAEnC;AAA5D;AAAA;AAAA;AAAA;AAAA,YAHF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALF,eAOE,QAAC,UAAD;AAAY,MAAA,gBAAgB,EAAE+B,gBAA9B;AAAgD,MAAA,kBAAkB,EAAEG,kBAApE;AAAwF,MAAA,SAAS,EAAEpC,SAAnG;AAA8G,MAAA,OAAO,EAAEF,OAAvH;AAAgI,MAAA,OAAO,EAAEe;AAAzI;AAAA;AAAA;AAAA;AAAA,YAPF,eASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YATF,eAWE,QAAC,OAAD;AAAS,MAAA,aAAa,EAAEN,aAAxB;AAAuC,MAAA,YAAY,EAAEqB;AAArD;AAAA;AAAA;AAAA;AAAA,YAXF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAeD,CAzED;;GAAMjC,G;;KAAAA,G;AA2EN,eAAeA,GAAf","sourcesContent":["import axios from 'axios'\nimport React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [filterName, setFilterName ] = useState('')\n\n  useEffect(() => {\n    personService.getAll()\n    .then((personsList)=>{\n      setPersons(personsList)\n    }) \n  }, [])\n\n\n  const personsToShow = filterName === '' \n  ? persons\n  : persons.filter(person => person.name.toUpperCase().includes(filterName.toUpperCase()))\n\n  const addName = (event) =>{\n    event.preventDefault()\n    const personToBeSearched = persons.find((person)=>person.name === newName)\n    if(personToBeSearched === undefined ){\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      }\n\n      personService.create(newPerson)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n      })\n    }\n    else{\n      const updatedPerson = {...personToBeSearched, number: newNumber}\n      const message =`${newName} is already added to phonebook`\n      window.alert(message)\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const deletePerson = personId => {\n    personService.deletePerson(personId)\n    .then(returnedPerson => {\n      const result = window.confirm(`Delete ${persons.find(person => person.id === personId).name}?`)\n      if (result)\n        setPersons(persons.filter(person => person.id !== personId))\n    })\n  }\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n\n  const handleFilterChange = (event) => setFilterName(event.target.value)\n  \n  \n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Filter handleFilterChange={handleFilterChange} filterName={filterName} />\n\n      <h3>add a new</h3>\n\n      <PersonForm handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} newNumber={newNumber} newName={newName} addName={addName} />\n      \n      <h3>Numbers</h3>\n\n      <Persons personsToShow={personsToShow} deletePerson={deletePerson} />\n    </div>\n  )\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}