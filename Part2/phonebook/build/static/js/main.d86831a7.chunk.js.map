{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","props","value","filterName","onChange","handleFilterChange","PersonForm","onSubmit","addName","newName","handleNameChange","newNumber","handleNumberChange","type","Person","person","deletePerson","name","number","onClick","id","Persons","personsToShow","map","baseUrl","axios","get","then","response","data","newPerson","post","personId","url","delete","put","Notification","message","currStyle","errorStatus","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","className","App","useState","persons","setPersons","setNewName","setNewNumber","setFilterName","notificationMessage","setNotificationMessage","isError","setIsError","useEffect","personService","personsList","filter","toUpperCase","includes","event","target","preventDefault","personToBeSearched","find","undefined","returnedPerson","concat","setTimeout","catch","error","console","log","window","confirm","updatedPerson","alert","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d86831a7.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => {\n    return (\n        <div>\n            filter shown with <input value={props.filterName} onChange={props.handleFilterChange}/>\n        </div>\n    )\n}\n\nexport default Filter;","import React from 'react'\n\nconst PersonForm = (props) => {\n    return(\n        <form onSubmit={props.addName}>\n        <div>\n          name: <input value={props.newName} onChange={props.handleNameChange} />\n        </div>\n        <div>\n          number: <input value={props.newNumber} onChange={props.handleNumberChange}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n}\n\nexport default PersonForm;","import React from 'react'\n\nconst Person = ({person, deletePerson}) => {\n    return(\n        <li key={person.name} >{person.name} {person.number} <button onClick={() => deletePerson(person.id)}>delete</button></li>\n    )\n}\n\nexport default Person;","import React from 'react'\nimport Person from './Person'\n\n\nconst Persons = (props) => {\n    return(\n        <ul>\n            {props.personsToShow.map((person) => <Person key={person.name} person={person} deletePerson={props.deletePerson} /> )}\n        </ul>\n    )\n}\n\nexport default Persons;","import axios from \"axios\";\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newPerson => {\n    const request = axios.post(baseUrl, newPerson)\n    return request.then(response => response.data)\n}\n\nconst deletePerson = personId => {\n    const url = `${baseUrl}/${personId}`\n    const request = axios.delete(url)\n    return request.then(response => response.data)\n}\n\nconst update = person => {\n    const url = `${baseUrl}/${person.id}`\n    const request = axios.put(url,person)\n    return request.then(response => response.data)\n}\n\nexport default {getAll, create, deletePerson, update}","import React from \"react\";\n\nconst Notification = ({message, errorStatus}) => {\n    const notificationStyle = {\n        color: \"green\",\n        background: \"lightgrey\",\n        fontSize: 20,\n        borderStyle: \"solid\",\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n\n    const errorStyle = {\n        color: \"red\",\n        background: \"lightgrey\",\n        fontSize: 20,\n        borderStyle: \"solid\",\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n\n    const currStyle = errorStatus ? errorStyle : notificationStyle\n    if (message === null){\n        return null\n    }\n\n    return (\n        <div style={currStyle} className=\"error\">\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import axios from 'axios'\nimport React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [filterName, setFilterName ] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [isError, setIsError] = useState(false)\n\n  useEffect(() => {\n    personService.getAll()\n    .then((personsList)=>{\n      setPersons(personsList)\n    }) \n  }, [])\n\n\n  const personsToShow = filterName === '' \n  ? persons\n  : persons.filter(person => person.name.toUpperCase().includes(filterName.toUpperCase()))\n\n  const addName = (event) =>{\n    event.preventDefault()\n    const personToBeSearched = persons.find((person)=>person.name === newName)\n    if(personToBeSearched === undefined ){\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      }\n\n      personService.create(newPerson)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNotificationMessage(`${returnedPerson.name} is added`)\n        setTimeout(() => setNotificationMessage(null), 3000)\n        \n      })\n      .catch( error => {\n        console.log(\"This is error:\"+error)\n        setNotificationMessage(error.response.data.error)\n        setIsError(true)\n        setTimeout(() => {\n          setIsError(false)\n          setNotificationMessage(null)}, 3000)\n        \n        }\n      )\n    }\n    else{\n      const result = window.confirm(`${personToBeSearched.name} is already added to phonebook, replace the old number with a new one?`)\n      if (result){\n        const updatedPerson = {...personToBeSearched, number: newNumber}\n        personService.update(updatedPerson)\n        .then(returnedPerson => {\n          setPersons(persons.map(person => person.id !== returnedPerson.id ? person : returnedPerson))\n          setNotificationMessage(`${returnedPerson.name}'s number is changed!'`)\n          setTimeout(() => setNotificationMessage(null), 3000)\n        })\n        .catch(error => {\n          setNotificationMessage(`Information of ${newName} has already been removed from server`)\n          setIsError(true)\n          setTimeout(() => {\n            setNotificationMessage(null)\n            setIsError(false)\n          }, 3000)\n        })\n      }\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const deletePerson = personId => {\n    personService.deletePerson(personId)\n    .then(returnedPerson => {\n      const result = window.confirm(`Delete ${persons.find(person => person.id === personId).name}?`)\n      if (result)\n        setPersons(persons.filter(person => person.id !== personId))\n    })\n    .catch(error => {\n      alert(\"Something went wrong :(\")\n    })\n  }\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n\n  const handleFilterChange = (event) => setFilterName(event.target.value)\n  \n  \n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={notificationMessage} errorStatus={isError}/>\n\n      <Filter handleFilterChange={handleFilterChange} filterName={filterName} />\n\n      <h3>add a new</h3>\n\n      <PersonForm handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} newNumber={newNumber} newName={newName} addName={addName} />\n      \n      <h3>Numbers</h3>\n\n      <Persons personsToShow={personsToShow} deletePerson={deletePerson} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render( <App />,document.getElementById('root'));\n\n"],"sourceRoot":""}